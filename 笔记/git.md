# Git

详细笔记：[Git学习笔记【尚硅谷】_尚硅谷git笔记_m0_63077733的博客-CSDN博客](https://blog.csdn.net/m0_63077733/article/details/128773818?spm=1001.2014.3001.5501)

git使用方法：下载安装后，点击鼠标右键

![image-20230906153204690](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20230906153204690.png)





# 1.git常用命令

| 基本命令                        | 作用                                                         |
| ------------------------------- | ------------------------------------------------------------ |
| git init                        | 初始化本地库，只有初始化本地库后，才能进行其他操作，才会有.git文件夹 |
| git config --global  user.name  | 设置用户名   说明： 签名的作用是区分不同操作者身份。用户的签名信息在每一个版本的提交信息中能够看 到，以此确认本次提交是谁做的。Git 首次安装必须设置一下用户签名，否则无法提交代码。 |
| git config --global  user.email | 设置用户邮箱                                                 |
| cat xxxxx                       | 查看某个文件                                                 |
| vim xxxxx                       | 进入到某个文件内                                             |
| i，：wq                         | 使用vim进入文件后，使用i进入插入模式。使用：wq保存并退出     |
| ctrl+ins                        | 复制                                                         |
| shift+ins                       | 粘贴                                                         |
| ll                              | 查看目录下所有文件                                           |
| tab                             | 自动补全代码                                                 |

注意：修改完文件后，还需要重新添加到暂存区和提交到本地库

git最常用最重要命令

| 基本命令                                                     | 作用                           |
| ------------------------------------------------------------ | ------------------------------ |
| **git status**                                               | **查看本地库状态**             |
| **git add xxx**                                              | **把xxx添加到暂存区内**        |
| **git commit -m" " xxx**                                     | **把xxx提交到本地库**          |
| **git reflog**                                               | **查看精简历史版本**           |
| **git log**                                                  | **查看详细历史版本**           |
| **git rm --cached 文件名**                                   | **删除暂存区的文件**           |
| **git reset --hard  精简 版本号**                            | **版本穿梭**                   |
| **git branch  -v**                                           | **查看分支**                   |
| **git branch 分支名**                                        | **创建分支**                   |
| **git checkout 分支名**                                      | **切换分支**                   |
| **git   merge xxxx分支名（无冲突）如果有冲突，先要解决冲突** | **把xxxx分支合并到当前分支上** |
|                                                              |                                |

版本和分支的切换底层就是移动head指针**，head指针通常指向我们看到的分支名，而分支名指向版本**

# 2. git常见概念

- 工作区：编写代码的地方，通常指磁盘。可以删除，且删除后不留记录。

- 暂存区：暂时储存的地方。可以删除，且删除后不留记录。

- 本地库：可以删除，但删除后也有历史版本记录。

- 远程库：代码托管中心。github，gitee，gitlab

- 分支：git的最主要特点。不同分支工作互不影响。

  - 概念：在版本控制过程中，同时推进多个任务，为每个任务，我们就可以创建每个任务的单独 分支。使用分支意味着程序员可以把自己的工作从开发主线上分离开来，开发自己分支的时 候，不会影响主线分支的运行。对于初学者而言，分支可以简单理解为副本，一个分支就是 一个单独的副本。（分支底层其实也是指针的引用）

  - 好处：**同时并行推进多个功能开发，提高开发效率。**

    各个分支在开发过程中，如果某一个分支开发失败，不会对其他分支有任何影响。失败 的分支删除重新开始即可。

    使用git branch -v查看当前所有分支，使用git branch 分支名 指令来创建新分支。
    
    使用git  branch checkout 分支名 指令来切换分支。
    
    # 3. 合并分支（有冲突情况下）

使用git merge 分支名来合并分支，**如果没有冲突，合并成功后会直接提交本地库**

如果有冲突，此时要手动处理冲突在合并

产生冲突原因：**合并分支时，两个分支在\**同一个文件的同一个位置\**有两套完全不同的修改。Git 无法替 我们决定使用哪一个。必须\**人为决定\**新代码内容。**



>
>
>**<<<<<<< HEAD**
>
>**【当前分支的代码】**
>
>**======= ========**
>
> **合并过来的代码** 
>
> **>>>>>> hot-fix**

**如果没有冲突，合并成功后会直接提交本地库**

**有冲突解决冲突后要手动添加到暂存区并提交到本地库**

此时提交命令***\*git commit 命令时不能带文件名，并且修改后只有master被修改 hot-fix没有变）\****

# 4.团队内合作

![image-20230907115241453](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20230907115241453.png)

**流程：从远程库clone代码到本地，然后进行开发。开发完毕后注意要先pull一下代码（确保远程库和本地库版本一致）然后再push代码到远程库（此步需要是团队成员才能push）**

## GitHub/Gitee 操作

1.首先要再github创建远程库 **注：此步在使用idea操作git时，直接使用分享到github就会自动创建远程仓库并push代码**

-    点击右上角+号

![image-20230907120208848](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20230907120208848.png)

- 点击new仓库

  ![image-20230907120403581](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20230907120403581.png)

- 创建仓库完毕后即可开发了

  ### 4.1 远程仓库相关操作命令

  | 常用命令                           | 作用                                                         |
  | ---------------------------------- | ------------------------------------------------------------ |
  | git remote -v                      | 查看所有远程地址别名                                         |
  | git remote add  别名 远程地址      | 给远程地址添加别名                                           |
  | **git clone 远程库地址**           | **克隆远程库代码到本地**                                     |
  | **git push 远程库别名 分支名**     | **提交分支到远程库**                                         |
  | **git pull 远程库别名 远程分支名** | **拉取远程库代码分支与本地库分支合并，用于更新本地库代码，使远程库代码和本地库代码一致** |
  
  

### 4.2 git remote -v 和git remote add  别名 远程地址

使用git remote -v命令查看所有远程仓库地址别名

使用git remote add 别名 远程地址 为远程地址添加别名

示例：![image-20230920113117796](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20230920113117796.png)

### 4.3 git clone 远程地址

使用git clone 指令。把远程库的代码克隆到了本地库，而且自动为远程库设置了一个别名叫origin



![image-20230920113607640](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20230920113607640.png)

### 4.4 git pull 远程库别名 远程库分支

使用git pull 远程库别名 远程库分支指令从远程库拉分支代码到本地库与本地库分支合并。用于保证远程库代码与本地库代码一致。

git clone 和 git pull用法：

- git clone 主要用于第一次从把远程库代码克隆到本地库。
- 而git pull主要用于远程库代码更新时，为保证本地库代码和远程库代码一致使用git pull

**小结：clone 会做如下操作。1、拉取代码。2、初始化本地仓库。3、创建别名**

***\*克隆：本地完全没有文件得到所有的文件\****

***\*拉取：本地已经有文件了，需要更新最新的\****

### 4.5 git push 远程库别名 分支名

**只有是团队成员才能使用git push 提交代码到远程库**

只有把代码提交到本地库后才能push到远程库。

# 5.跨团队协作

